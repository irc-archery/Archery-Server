18m インドア 設計書 案
2016 01 13
written by taiki.f
meeting with: taiki, noguti


外部設計

変更項目

試合作成画面
・18m追加
・5セットモード追加

--- 議論 ---

議題
試合作成時の5セットモードの選択方法

選択肢
1. 18mを選択したら、自動的に5セットになる
2. 距離とは別途にセット数を設定できるようにする

結果
1が3票、2が1票で1に決定

---

試合一覧画面等
・18mの項目に対応

得点表画面(5セットモードの場合)
・5セット目までで終了
・UIは変更なし


これを実現するための内部的な変更点が以下の内部設計書になる。


内部設計書

クライアントサイド
・18mをlengthの8として登録(詳しくは下記の既存の設計書の変更点を参照)
・lengthを扱うすべての画面にて18mに対応(length=8だった場合、18mと表示されるようにする)
・試合作成画面にて、距離(length)::18mを選択された場合は,セット数(perEnd)を5にする。(18m以外だった場合はperEndとして6を送信)
※今までは、perEndはクライアント側で"6"の定数を送っていたため、そこをlengthの値によって変更できるようにする。
・得点表画面ではサーバーから送られてくるperEndを参照し,値が5だった場合は、5セットで終了、6だった場合は6セット目で終了するようにする。
※perEndは前からずっと送っていたので、それを参照しているプログラムであれば今までと特に変更点なし。

サーバーサイド
変更点は特になし


既存の設計書の変更点

20150809 Args Server WebSocket Event List.txt の 43行目より以下の内容に変更

length
0 : 90m
1 : 70m
2 : 60m
3 : 50m
4 : 40m
5 : 30m
6 : 70m前
7 : 70m後
8 : 18m     // new!